<html>
    <script>
        function arredondar ( valor ) {
            return Math.round(valor * 100)/100
        }
        
        function calcularJuros ( valor ) {
            juros = arredondar(valor * 0.1)
            return juros
        }

        function calcularRendimentos ( valor ) {
            rendimentos = arredondar(valor * 0.005)
            return rendimentos
        }

        function calcularSaldo (mes, saldoInicial, lancamentos) {
            saldo = saldoInicial
            for ( lancamento of lancamentos ) {
                if( lancamento.tipo === 'receita' ) {
                    saldo += lancamento.valor
                } else {
                    saldo -= lancamento.valor
                }
            }
            estaNegativo = saldo < 0
            console.log(mes)
            if (estaNegativo) {
                juros = calcularJuros(saldo)
                saldo = arredondar( saldo + juros )
            } else {
                rendimentos = calcularRendimentos(saldo)
                saldo = arredondar ( saldo + rendimentos )
            }
            return saldo
        }

        // Janeiro
        lancamentosJaneiro = [
            { categoria:'Salário', tipo: 'receita', valor: 3000 },
            { categoria:'Aluguel', tipo: 'despesa', valor: 1000 },
            { categoria:'Conta de luz', tipo: 'despesa', valor: 200 },
            { categoria:'Conta de Água', tipo: 'despesa', valor: 100 },
            { categoria:'Internet', tipo: 'despesa', valor: 100 },
            { categoria:'Transporte', tipo: 'despesa', valor: 300 },
            { categoria:'Lazer', tipo: 'despesa', valor: 300 },
            { categoria:'Alimentação', tipo: 'despesa', valor: 586 },
            { categoria:'Condomínio', tipo: 'despesa', valor: 300 },
            { categoria:'Farmácia', tipo: 'despesa', valor: 100 },
        ]
        saldo1 = calcularSaldo('Janeiro', 0, lancamentosJaneiro)
        console.log('Saldo: ', saldo1);

        // Fevereiro
        lancamentosFevereiro = [
            { categoria:'Salário', tipo: 'receita', valor: 3000 },
            { categoria:'Aluguel', tipo: 'despesa', valor: 1200 },
            { categoria:'Conta de Luz', tipo: 'despesa', valor: 250 },
            { categoria:'Conta de Água', tipo: 'despesa', valor: 100 },
            { categoria:'Intenet', tipo: 'despesa', valor: 100 },
            { categoria:'Transporte', tipo: 'despesa', valor: 500 }, 
            { categoria:'Lazer', tipo: 'despesa', valor: 0 }, 
            { categoria:'Alimentação', tipo: 'despesa', valor: 1000 },
            { categoria:'Condomínio', tipo: 'despesa', valor: 400 },
        ]
        saldo2 = calcularSaldo('Fevereiro', saldo1, lancamentosFevereiro)
        console.log('Saldo: ', saldo2);

        // Março
        lancamentosMarco = [
            { categoria:'Salário', tipo: 'receita', valor: 4000 },
            { categoria:'Aluguel', tipo: 'despesa', valor: 1200 },
            { categoria:'Conta de Luz', tipo: 'despesa', valor: 200 },
            { categoria:'Conta de Água', tipo: 'despesa', valor: 100 },
            { categoria:'Internet', tipo: 'despesa', valor: 200 },
            { categoria:'Transporte', tipo: 'despesa', valor: 500 },
            { categoria:'Lazer', tipo: 'despesa', valor: 800 },
            { categoria:'Alimentação', tipo: 'despesa', valor: 1000 },
            { categoria:'Condomínio', tipo: 'despesa', valor: 400 },
        ]
        saldo3 = calcularSaldo('Março', saldo2, lancamentosMarco)
        console.log('Saldo: ', saldo3);

        // Ano
        acumuladoAno = saldo3
        console.log("Acumulado Ano")
        console.log(acumuladoAno)

    </script>
</html>
